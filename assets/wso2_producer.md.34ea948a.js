import{_ as a,c as l,e as o,b as s,d as p,a as e,o as c,r as t}from"./app.523600ac.js";const f=JSON.parse('{"title":"\u5BF9\u5916\u63D0\u4F9B\u63A5\u53E3","description":"","frontmatter":{},"headers":[{"level":2,"title":"1.\u521B\u5EFA\u63A5\u53E3","slug":"_1-\u521B\u5EFA\u63A5\u53E3","link":"#_1-\u521B\u5EFA\u63A5\u53E3","children":[]},{"level":2,"title":"2.\u914D\u7F6E\u8D26\u53F7","slug":"_2-\u914D\u7F6E\u8D26\u53F7","link":"#_2-\u914D\u7F6E\u8D26\u53F7","children":[]},{"level":2,"title":"3.\u63A5\u53E3\u8C03\u8BD5","slug":"_3-\u63A5\u53E3\u8C03\u8BD5","link":"#_3-\u63A5\u53E3\u8C03\u8BD5","children":[]}],"relativePath":"wso2/producer.md"}'),r={name:"wso2/producer.md"},D=s("h1",{id:"\u5BF9\u5916\u63D0\u4F9B\u63A5\u53E3",tabindex:"-1"},[p("\u5BF9\u5916\u63D0\u4F9B\u63A5\u53E3 "),s("a",{class:"header-anchor",href:"#\u5BF9\u5916\u63D0\u4F9B\u63A5\u53E3","aria-hidden":"true"},"#")],-1),F=s("blockquote",null,[s("p",null,"\u7B2C\u4E09\u65B9\u7CFB\u7EDF \u901A\u8FC7 WSO2 \u8BF7\u6C42 View API")],-1),y=e(`<h2 id="_1-\u521B\u5EFA\u63A5\u53E3" tabindex="-1">1.\u521B\u5EFA\u63A5\u53E3 <a class="header-anchor" href="#_1-\u521B\u5EFA\u63A5\u53E3" aria-hidden="true">#</a></h2><p>\u5728 <code>core/web/sharp/modules/api/controllers</code> \u76EE\u5F55\u4E0B\u521B\u5EFA\u4E00\u4E2A\u540D\u4E3A <code>DemoController.php</code> \u7684\u6587\u4EF6\uFF0C\u590D\u5236\u5E76\u7C98\u8D34\u4EE5\u4E0B\u5185\u5BB9\u3002</p><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">&lt;?</span><span style="color:#A6ACCD;">php</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">include_once</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">dirname</span><span style="color:#89DDFF;">(__FILE__)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/RestfulController.php</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Api_DemoController</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Api_RestfulController</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">protected</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">scope </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Demo</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">/**</span></span>
<span class="line"><span style="color:#676E95;">     * Demo</span></span>
<span class="line"><span style="color:#676E95;">     */</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">indexAction</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">($</span><span style="color:#A6ACCD;">_GET</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">status</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">===</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">error</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$this-&gt;</span><span style="color:#82AAFF;">error</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">invalid phone number.</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">422</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$this-&gt;</span><span style="color:#82AAFF;">success</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">userId</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">888</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">nickName</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Demo</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">phoneNumber</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">12345678910</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">],</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">success</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="_2-\u914D\u7F6E\u8D26\u53F7" tabindex="-1">2.\u914D\u7F6E\u8D26\u53F7 <a class="header-anchor" href="#_2-\u914D\u7F6E\u8D26\u53F7" aria-hidden="true">#</a></h2><p>\u5728 <code>core</code> \u76EE\u5F55\u4E0B\u521B\u5EFA\u4E00\u4E2A\u540D\u4E3A: <code>.restfulapi.authentication.ini</code> \u7684\u6587\u4EF6\uFF08\u6587\u4EF6\u540D\u4EE5&#39;.&#39;\u53F7\u5F00\u59CB\uFF09\uFF0C\u5E76\u590D\u5236\u7C98\u8D34\u4EE5\u4E0B\u5185\u5BB9\u3002</p><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;">;API\u8D26\u53F7\u4FE1\u606F</span></span>
<span class="line"><span style="color:#89DDFF;">[API_DEMO]</span></span>
<span class="line"><span style="color:#F07178;">password</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">123456</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#F07178;">scopes</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Demo,Test</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre></div><ul><li>API_DEMO \u5C06\u4F5C\u4E3A <code>Basic Auth</code> \u8BA4\u8BC1\u7684\u8D26\u53F7</li><li>scopes \u586B\u5199\u63A5\u53E3\u6587\u4EF6\u4E2D\u7684 <code>$scope</code> \u53D8\u91CF\uFF0C\u591A\u4E2Ascope\u53EF\u4EE5\u4F7F\u7528&quot;,&quot;\u53F7\u9694\u5F00</li></ul><h2 id="_3-\u63A5\u53E3\u8C03\u8BD5" tabindex="-1">3.\u63A5\u53E3\u8C03\u8BD5 <a class="header-anchor" href="#_3-\u63A5\u53E3\u8C03\u8BD5" aria-hidden="true">#</a></h2><blockquote><p>\u672C\u5730\u5F00\u53D1\u4E0D\u9700\u8981\u7ECF\u8FC7WSO2\uFF0C\u53EF\u4EE5\u76F4\u63A5\u8FDB\u884C\u6D4B\u8BD5</p></blockquote><p>\u63A5\u53E3\u5730\u5740: <code>http://hk.preview.test/sharp/api/demo</code></p><p>\u8BA4\u8BC1\u65B9\u5F0F\u9009\u62E9 <code>Basic Auth</code>\uFF0C\u8D26\u53F7\u5BC6\u7801\u4F7F\u7528\u4E0A\u9762\u914D\u7F6E\u7684\u4FE1\u606F</p>`,11);function A(C,i,d,h,_,u){const n=t("Mermaid");return c(),l("div",null,[D,F,o(n,{id:"mermaid_1a962852",graph:"flowchart%20LR%0AD%5B%5B%E7%AC%AC%E4%B8%89%E6%96%B9%E7%B3%BB%E7%BB%9FA%5D%5D%20%26%20E%5B%5B%E7%AC%AC%E4%B8%89%E6%96%B9%E7%B3%BB%E7%BB%9FB%5D%5D%20%26%20F%5B%5B%E7%AC%AC%E4%B8%89%E6%96%B9%E7%B3%BB%E7%BB%9FC%5D%5D%20---%3E%20C(%5BWSO2%5D)%20---%3E%20A(View)%20%26%20B(VFM)%0Astyle%20A%20fill%3A%237b1fa2%2Ccolor%3A%23fff%2Cstroke-width%3A0%0Astyle%20B%20fill%3A%234caf50%2Ccolor%3A%23fff%2Cstroke-width%3A0%0Astyle%20C%20fill%3A%23ff7300%2Ccolor%3A%23fff%2Cstroke-width%3A0%0Astyle%20D%20fill%3A%233a49ab%2Ccolor%3A%23fff%2Cstroke-width%3A0%0Astyle%20E%20fill%3A%233a49ab%2Ccolor%3A%23fff%2Cstroke-width%3A0%0Astyle%20F%20fill%3A%233a49ab%2Ccolor%3A%23fff%2Cstroke-width%3A0"}),y])}const B=a(r,[["render",A]]);export{f as __pageData,B as default};

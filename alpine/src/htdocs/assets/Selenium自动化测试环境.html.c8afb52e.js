import{r as o,o as p,a as c,b as a,d as t,F as l,c as e,e as n}from"./app.e77311d5.js";import{_ as i}from"./plugin-vue_export-helper.21dcd24c.js";const r={},u=e('<h1 id="selenium\u81EA\u52A8\u5316\u6D4B\u8BD5\u73AF\u5883" tabindex="-1"><a class="header-anchor" href="#selenium\u81EA\u52A8\u5316\u6D4B\u8BD5\u73AF\u5883" aria-hidden="true">#</a> Selenium\u81EA\u52A8\u5316\u6D4B\u8BD5\u73AF\u5883</h1><p><em>\u4EE5\u4E0B\u64CD\u4F5C\u5047\u8BBE\u4F60\u5DF2\u7ECF\u5B89\u88C5\u5E76\u914D\u7F6E\u597D\u4E86Docker\u73AF\u5883</em></p><h2 id="\u642D\u5EFA\u73AF\u5883" tabindex="-1"><a class="header-anchor" href="#\u642D\u5EFA\u73AF\u5883" aria-hidden="true">#</a> \u642D\u5EFA\u73AF\u5883</h2><h3 id="\u521B\u5EFAselenium\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#\u521B\u5EFAselenium\u5BB9\u5668" aria-hidden="true">#</a> \u521B\u5EFAselenium\u5BB9\u5668</h3>',4),d=n("\u5B98\u65B9\u955C\u50CF: "),k={href:"https://hub.docker.com/r/selenium/standalone-edge",target:"_blank",rel:"noopener noreferrer"},h=n("https://hub.docker.com/r/selenium/standalone-edge"),g=n("\u53C2\u8003\u6587\u6863: "),b={href:"https://github.com/SeleniumHQ/docker-selenium",target:"_blank",rel:"noopener noreferrer"},m=n("https://github.com/SeleniumHQ/docker-selenium"),_=e(`<div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">docker</span> run -d --name selenium --network tke --ip <span class="token number">172.16</span>.1.44 -p <span class="token number">4444</span>:4444 -p <span class="token number">7900</span>:7900 -e <span class="token assign-left variable">VNC_NO_PASSWORD</span><span class="token operator">=</span><span class="token number">1</span> -e <span class="token assign-left variable">SE_NODE_MAX_SESSIONS</span><span class="token operator">=</span><span class="token number">3</span> --shm-size<span class="token operator">=</span><span class="token string">&quot;2g&quot;</span> selenium/standalone-edge
</code></pre></div><h3 id="\u521B\u5EFAautotest\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#\u521B\u5EFAautotest\u5BB9\u5668" aria-hidden="true">#</a> \u521B\u5EFAautotest\u5BB9\u5668</h3><p>\u6CE8\u610F\uFF1A\u9700\u8981\u66FF\u6362\u4F60\u672C\u5730\u7684autotest\u9879\u76EE\u8DEF\u5F84</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">docker</span> run -d --name autotest --network tke -v <span class="token operator">&lt;</span>\u672C\u673Aautotest\u76EE\u5F55<span class="token operator">&gt;</span>:/home/tke/autotest rtwadewang/tke:autotest
</code></pre></div><h2 id="\u9879\u76EE\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#\u9879\u76EE\u914D\u7F6E" aria-hidden="true">#</a> \u9879\u76EE\u914D\u7F6E</h2><h3 id="\u4FEE\u6539hosturl" tabindex="-1"><a class="header-anchor" href="#\u4FEE\u6539hosturl" aria-hidden="true">#</a> \u4FEE\u6539hostUrl</h3><p>\u4EE5\u9ED8\u8BA4\u56FD\u5BB6\u7684config\u6587\u4EF6\u4E3A\u4F8B\uFF0C\u5176\u5B83\u56FD\u5BB6\u4FEE\u6539\u5176\u5BF9\u5E94\u7684\u914D\u7F6E\u6587\u4EF6\u5373\u53EF\u3002</p><p>autotest/selenium/config.xml</p><div class="language-xml ext-xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>element</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hostUrl<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>https://selenium.tkeasia.com/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>element</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>\u4FEE\u6539\u4E3A\uFF1A</p><div class="language-xml ext-xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>element</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hostUrl<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>http://172.16.1.44:4444<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>element</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="\u4FEE\u6539\u5E95\u5C42\u4EE3\u7801-\u4EE5\u652F\u6301linux\u73AF\u5883" tabindex="-1"><a class="header-anchor" href="#\u4FEE\u6539\u5E95\u5C42\u4EE3\u7801-\u4EE5\u652F\u6301linux\u73AF\u5883" aria-hidden="true">#</a> \u4FEE\u6539\u5E95\u5C42\u4EE3\u7801(\u4EE5\u652F\u6301Linux\u73AF\u5883)</h3><p><em>\u7531\u4E8E\u5F53\u524D\u5E95\u5C42\u4EE3\u7801\u4EC5\u652F\u6301Window\u73AF\u5883\uFF0C\u9700\u8981\u81EA\u5DF1\u4FEE\u6539\u540E\u624D\u80FD\u652F\u6301Linux\u73AF\u5883</em></p><p>autotest/selenium/library/FeatureContext.php</p><p>\u4FEE\u6539\u524D\uFF1A</p><div class="language-php ext-php"><pre class="language-php"><code><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$isServer</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token variable">$desired_capabilities</span><span class="token operator">-&gt;</span><span class="token function">setCapability</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;webdriver.edge.driver&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;/data/autotest/MicrosoftWebDriver&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token variable">$desired_capabilities</span><span class="token operator">-&gt;</span><span class="token function">setCapability</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;platform&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;Linux&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
	<span class="token variable">$desired_capabilities</span><span class="token operator">-&gt;</span><span class="token function">setCapability</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;webdriver.edge.driver&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;C:\\driver\\msedgedriver.exe&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>\u4FEE\u6539\u540E\uFF1A</p><div class="language-php ext-php"><pre class="language-php"><code><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$isServer</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token variable">$desired_capabilities</span><span class="token operator">-&gt;</span><span class="token function">setCapability</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;webdriver.edge.driver&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;/data/autotest/MicrosoftWebDriver&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token variable">$desired_capabilities</span><span class="token operator">-&gt;</span><span class="token function">setCapability</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;platform&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;Linux&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
	<span class="token variable">$desired_capabilities</span><span class="token operator">-&gt;</span><span class="token function">setCapability</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;webdriver.edge.driver&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;C:\\driver\\msedgedriver.exe&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// \u5728\u6B64\u5904\u6DFB\u52A0Linux\u5E73\u53F0\u6807\u8BC6</span>
	<span class="token variable">$desired_capabilities</span><span class="token operator">-&gt;</span><span class="token function">setCapability</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;platform&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;Linux&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="\u8FD0\u884C\u6D4B\u8BD5\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#\u8FD0\u884C\u6D4B\u8BD5\u547D\u4EE4" aria-hidden="true">#</a> \u8FD0\u884C\u6D4B\u8BD5\u547D\u4EE4</h3><p>\u63D0\u793A\uFF1A\u540E\u671F\u6D4B\u8BD5\u65F6\u4EC5\u6267\u884C\u4E0B\u9762\u7684\u6D4B\u8BD5\u547D\u4EE4\u5373\u53EF\uFF08\u6CE8\u610F\u66FF\u6362tagName\uFF09</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">docker</span> <span class="token builtin class-name">exec</span> -it autotest vendor/bin/behat --tags <span class="token operator">&lt;</span>tagName<span class="token operator">&gt;</span>
</code></pre></div><h2 id="\u4F7F\u7528web\u670D\u52A1" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528web\u670D\u52A1" aria-hidden="true">#</a> \u4F7F\u7528web\u670D\u52A1</h2>`,22),f=n("\u8C03\u8BD5\u7A97\u53E3: "),v={href:"http://localhost:7900",target:"_blank",rel:"noopener noreferrer"},x=n("http://localhost:7900"),q=n("\u7BA1\u7406\u9875\u9762: "),w={href:"http://localhost:4444",target:"_blank",rel:"noopener noreferrer"},S=n("http://localhost:4444"),C=e(`<h2 id="\u5E38\u89C1\u95EE\u9898" tabindex="-1"><a class="header-anchor" href="#\u5E38\u89C1\u95EE\u9898" aria-hidden="true">#</a> \u5E38\u89C1\u95EE\u9898</h2><h3 id="operation-not-permitted" tabindex="-1"><a class="header-anchor" href="#operation-not-permitted" aria-hidden="true">#</a> operation not permitted</h3><p>\u62A5\u9519\u4FE1\u606F: OCI runtime exec failed: exec failed: container_linux.go:xxx: starting container process caused: operation not permitted: unknown</p><p>\u89E3\u51B3\u529E\u6CD5: \u4FEE\u6539\u9879\u76EE\u6743\u9650</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">docker</span> <span class="token builtin class-name">exec</span> autotest <span class="token function">chmod</span> <span class="token number">755</span> /home/tke/autotest/selenium
</code></pre></div><h3 id="\u5BB9\u5668\u4E2D\u4EE3\u7801\u683C\u5F0F\u672A\u5BF9\u9F50" tabindex="-1"><a class="header-anchor" href="#\u5BB9\u5668\u4E2D\u4EE3\u7801\u683C\u5F0F\u672A\u5BF9\u9F50" aria-hidden="true">#</a> \u5BB9\u5668\u4E2D\u4EE3\u7801\u683C\u5F0F\u672A\u5BF9\u9F50</h3><p>\u8BBE\u7F6E\u7F16\u8F91\u5668: \u4F7F\u75284\u4E2A\u7A7A\u683C\u4EE3\u66FFtab\u952E</p><h2 id="\u8F85\u52A9\u5DE5\u5177" tabindex="-1"><a class="header-anchor" href="#\u8F85\u52A9\u5DE5\u5177" aria-hidden="true">#</a> \u8F85\u52A9\u5DE5\u5177</h2><p>View\u7CFB\u7EDF\u81EA\u52A8\u5316\u6D4B\u8BD5\u5DE5\u5177</p>`,9),y=n("Autotest Support: "),N={href:"https://testsupport.tkeasia.com/",target:"_blank",rel:"noopener noreferrer"},$=n("https://testsupport.tkeasia.com/");function L(E,V){const s=o("ExternalLinkIcon");return p(),c(l,null,[u,a("p",null,[d,a("a",k,[h,t(s)])]),a("p",null,[g,a("a",b,[m,t(s)])]),_,a("ul",null,[a("li",null,[f,a("a",v,[x,t(s)])]),a("li",null,[q,a("a",w,[S,t(s)])])]),C,a("p",null,[y,a("a",N,[$,t(s)])])],64)}var I=i(r,[["render",L]]);export{I as default};

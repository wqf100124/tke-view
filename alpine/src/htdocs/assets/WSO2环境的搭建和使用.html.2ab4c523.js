import{r as e,o,a as c,b as n,d as t,F as l,c as p,e as s}from"./app.db26bbd1.js";import{_ as r}from"./plugin-vue_export-helper.21dcd24c.js";var i="/images/screenshots/wso2/WSO2.png",u="/images/screenshots/wso2/provider/mind.png",k="/images/screenshots/wso2/provider/1.png",b="/images/screenshots/wso2/provider/2.png",m="/images/screenshots/wso2/user/mind.png",g="/images/screenshots/wso2/user/3.png",d="/images/screenshots/wso2/user/4.png",h="/images/screenshots/wso2/user/5.png",_="/images/screenshots/wso2/user/6.png",q="/images/screenshots/wso2/user/7.png",y="/images/screenshots/wso2/user/8.png",w="/images/screenshots/wso2/user/oauth-1.png",v="/images/screenshots/wso2/user/oauth-2.png",f="/images/screenshots/wso2/user/oauth-3.png",A="/images/screenshots/wso2/user/subscribe-1.png",I="/images/screenshots/wso2/user/subscribe-2.png",P="/images/screenshots/wso2/user/14.png",E="/images/screenshots/wso2/user/15.png",O="/images/screenshots/wso2/user/16.png",x="/images/screenshots/wso2/deploy/WSO2\u90E8\u7F72\u6D41\u7A0B.png",S="/images/screenshots/wso2/deploy/1.png",D="/images/screenshots/wso2/deploy/2.png",T="/images/screenshots/wso2/deploy/3.png",N="/images/screenshots/wso2/deploy/4.png",V="/images/screenshots/wso2/deploy/5.png";const C={},U=p('<h1 id="wso2\u73AF\u5883\u7684\u642D\u5EFA\u548C\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#wso2\u73AF\u5883\u7684\u642D\u5EFA\u548C\u4F7F\u7528" aria-hidden="true">#</a> WSO2\u73AF\u5883\u7684\u642D\u5EFA\u548C\u4F7F\u7528</h1><p><em>\u4EE5\u4E0B\u64CD\u4F5C\u5047\u8BBE\u4F60\u5DF2\u7ECF\u5B89\u88C5\u5E76\u914D\u7F6E\u597D\u4E86Docker\u73AF\u5883</em></p><p>Api: WSO2\u548C\u5916\u90E8\u7CFB\u7EDF\u7684\u63A5\u53E3\u901A\u4FE1\u670D\u52A1<br> Application: \u7528\u6765\u4E3AApi\u5206\u7EC4\u4EE5\u53CA\u6388\u6743\u3001\u9650\u6D41\u7B49</p><p>\u4E24\u8005\u5173\u7CFB\u793A\u4F8B:</p><p><img src="'+i+'" alt=""></p><h2 id="\u642D\u5EFA\u672C\u5730\u5F00\u53D1\u73AF\u5883" tabindex="-1"><a class="header-anchor" href="#\u642D\u5EFA\u672C\u5730\u5F00\u53D1\u73AF\u5883" aria-hidden="true">#</a> \u642D\u5EFA\u672C\u5730\u5F00\u53D1\u73AF\u5883</h2><h3 id="_1-am-api-manager" tabindex="-1"><a class="header-anchor" href="#_1-am-api-manager" aria-hidden="true">#</a> 1.AM(API Manager)</h3><p><em>\u90E8\u7F72\u548C\u7BA1\u7406 API \u7684\u5DE5\u5177\uFF0C\u63D0\u4F9B\u4E86 API \u6574\u4E2A\u751F\u547D\u5468\u671F\u6240\u9700\u8981\u7684\u5404\u79CD\u63A7\u5236\uFF0C\u5305\u542B\u63A7\u5236\u8BBF\u95EE\u6743\u9650\uFF0C\u8BBF\u95EE\u6D41\u91CF\uFF0C\u76D1\u63A7 API \u7684\u8C03\u7528\uFF0C\u7248\u672C\u63A7\u5236\u7B49\u3002</em></p>',8),W=s("\u5B98\u65B9\u955C\u50CF\uFF1A"),$={href:"https://hub.docker.com/r/wso2/wso2am",target:"_blank",rel:"noopener noreferrer"},R=s("https://hub.docker.com/r/wso2/wso2am"),M=p(`<p>\u521B\u5EFA\u5E76\u8FD0\u884CAM\u5BB9\u5668(<em>\u5BB9\u5668\u542F\u52A8\u8FC7\u7A0B\u5927\u7EA6\u9700\u89812~3\u5206\u949F\uFF0C\u8010\u5FC3\u7B49\u5F85\u5373\u53EF\u3002</em>)</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">docker</span> run -d --network tke --ip <span class="token number">172.16</span>.1.94 -p <span class="token number">8280</span>:8280 -p <span class="token number">8243</span>:8243 -p <span class="token number">9443</span>:9443 --name api-manager wso2/wso2am
</code></pre></div>`,2),L=s("Api\u7BA1\u7406: "),B={href:"https://localhost:9443/publisher/apis",target:"_blank",rel:"noopener noreferrer"},j=s("https://localhost:9443/publisher/apis"),G=s(),F=n("br",null,null,-1),H=s(" App\u7BA1\u7406: "),Y={href:"https://localhost:9443/devportal/applications",target:"_blank",rel:"noopener noreferrer"},z=s("https://localhost:9443/devportal/applications"),K=s(" \u8D26\u53F7: admin \u5BC6\u7801: admin"),J=n("h3",{id:"_2-swagger-editor-api\u6587\u6863\u7F16\u8F91\u5668",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_2-swagger-editor-api\u6587\u6863\u7F16\u8F91\u5668","aria-hidden":"true"},"#"),s(" 2.Swagger Editor(API\u6587\u6863\u7F16\u8F91\u5668)")],-1),Q=s("\u5B98\u65B9\u6587\u6863: "),X={href:"https://swagger.io/docs/",target:"_blank",rel:"noopener noreferrer"},Z=s("https://swagger.io/docs/"),nn=s(),sn=n("br",null,null,-1),an=s(" \u5B98\u65B9\u955C\u50CF: "),tn={href:"https://hub.docker.com/r/swaggerapi/swagger-editor/",target:"_blank",rel:"noopener noreferrer"},pn=s("https://hub.docker.com/r/swaggerapi/swagger-editor/"),en=s(),on=n("br",null,null,-1),cn=s(" \u5728\u7EBF\u7F16\u8F91: "),ln={href:"https://editor.swagger.io/",target:"_blank",rel:"noopener noreferrer"},rn=s("https://editor.swagger.io/"),un=n("div",{class:"language-bash ext-sh"},[n("pre",{class:"language-bash"},[n("code",null,[n("span",{class:"token function"},"docker"),s(" run -d -p "),n("span",{class:"token number"},"8080"),s(`:8080 --name swagger-editor swaggerapi/swagger-editor
`)])])],-1),kn=s("\u8BBF\u95EE\u672C\u5730\u7F16\u8F91\u5668: "),bn={href:"http://localhost:8080/",target:"_blank",rel:"noopener noreferrer"},mn=s("http://localhost:8080/"),gn=p('<h2 id="\u672C\u5730\u5F00\u53D1\u6D41\u7A0B" tabindex="-1"><a class="header-anchor" href="#\u672C\u5730\u5F00\u53D1\u6D41\u7A0B" aria-hidden="true">#</a> \u672C\u5730\u5F00\u53D1\u6D41\u7A0B</h2><h3 id="view\u7CFB\u7EDF\u63D0\u4F9Bapi\u7ED9\u7B2C\u4E09\u65B9" tabindex="-1"><a class="header-anchor" href="#view\u7CFB\u7EDF\u63D0\u4F9Bapi\u7ED9\u7B2C\u4E09\u65B9" aria-hidden="true">#</a> View\u7CFB\u7EDF\u63D0\u4F9BAPI\u7ED9\u7B2C\u4E09\u65B9</h3><p><img src="'+u+`" alt=""></p><h4 id="_1-\u5728view\u4E2D\u521B\u5EFA\u63A5\u53E3\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#_1-\u5728view\u4E2D\u521B\u5EFA\u63A5\u53E3\u6587\u4EF6" aria-hidden="true">#</a> 1.\u5728View\u4E2D\u521B\u5EFA\u63A5\u53E3\u6587\u4EF6</h4><p>\u793A\u4F8B: core/web/sharp/modules/api/controllers/DemoController.php</p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">include_once</span><span class="token punctuation">(</span><span class="token function">dirname</span><span class="token punctuation">(</span><span class="token constant">__FILE__</span><span class="token punctuation">)</span> <span class="token operator">.</span> <span class="token string single-quoted-string">&#39;/RestfulController.php&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">Api_DemoController</span> <span class="token keyword">extends</span> <span class="token class-name">Api_RestfulController</span>
<span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token keyword type-declaration">string</span> <span class="token variable">$scope</span> <span class="token operator">=</span> <span class="token string single-quoted-string">&#39;Demo&#39;</span><span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
     *
     * <span class="token keyword">@author</span> wadewang
     * <span class="token keyword">@date</span> 2022-02-21
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">indexAction</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;status&#39;</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string single-quoted-string">&#39;error&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;invalid phone number.&#39;</span><span class="token punctuation">,</span> <span class="token number">422</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
            <span class="token string single-quoted-string">&#39;id&#39;</span>   <span class="token operator">=&gt;</span> <span class="token number">888</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">&#39;name&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;Demo&#39;</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;success&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h4 id="_2-\u8DF3\u8FC7\u672C\u5730\u8BA4\u8BC1" tabindex="-1"><a class="header-anchor" href="#_2-\u8DF3\u8FC7\u672C\u5730\u8BA4\u8BC1" aria-hidden="true">#</a> 2.\u8DF3\u8FC7\u672C\u5730\u8BA4\u8BC1</h4><p>\u4FEE\u6539: core/web/sharp/modules/api/controllers/RestfulController.php \u6587\u4EF6</p><p><img src="`+k+'" alt=""></p><h4 id="_3-\u63A5\u53E3\u8C03\u8BD5" tabindex="-1"><a class="header-anchor" href="#_3-\u63A5\u53E3\u8C03\u8BD5" aria-hidden="true">#</a> 3.\u63A5\u53E3\u8C03\u8BD5</h4>',10),dn=s("\u63A5\u53E3\u5730\u5740: "),hn={href:"http://hk.preview.test/sharp/api/demo",target:"_blank",rel:"noopener noreferrer"},_n=s("http://hk.preview.test/sharp/api/demo"),qn=p('<p><img src="'+b+'" alt=""></p><h3 id="view\u7CFB\u7EDF\u8BF7\u6C42\u7B2C\u4E09\u65B9api" tabindex="-1"><a class="header-anchor" href="#view\u7CFB\u7EDF\u8BF7\u6C42\u7B2C\u4E09\u65B9api" aria-hidden="true">#</a> View\u7CFB\u7EDF\u8BF7\u6C42\u7B2C\u4E09\u65B9API</h3><p><img src="'+m+'" alt=""></p><h4 id="_1-\u5728wso2\u4E2D\u521B\u5EFAapi" tabindex="-1"><a class="header-anchor" href="#_1-\u5728wso2\u4E2D\u521B\u5EFAapi" aria-hidden="true">#</a> 1.\u5728WSO2\u4E2D\u521B\u5EFAApi</h4>',4),yn=s("\u6253\u5F00API\u7BA1\u7406\u9875\u9762: "),wn={href:"https://localhost:9443/publisher",target:"_blank",rel:"noopener noreferrer"},vn=s("https://localhost:9443/publisher"),fn=p('<p><img src="'+g+'" alt=""><img src="'+d+'" alt=""><img src="'+h+'" alt=""></p><p>\u914D\u7F6E\u7B2C\u4E09\u65B9\u63A5\u53E3\u7684\u8BA4\u8BC1\u4FE1\u606F <img src="'+_+'" alt=""></p><h4 id="_2-\u5728wso2\u4E2D\u521B\u5EFAapp" tabindex="-1"><a class="header-anchor" href="#_2-\u5728wso2\u4E2D\u521B\u5EFAapp" aria-hidden="true">#</a> 2.\u5728WSO2\u4E2D\u521B\u5EFAApp</h4>',3),An=s("App\u7BA1\u7406\u9875\u9762:"),In={href:"https://localhost:9443/devportal/applications",target:"_blank",rel:"noopener noreferrer"},Pn=s("https://localhost:9443/devportal/applications"),En=p('<p><img src="'+q+'" alt=""><img src="'+y+'" alt=""></p><h4 id="_3-\u751F\u6210oauth\u8BA4\u8BC1\u5BC6\u94A5" tabindex="-1"><a class="header-anchor" href="#_3-\u751F\u6210oauth\u8BA4\u8BC1\u5BC6\u94A5" aria-hidden="true">#</a> 3.\u751F\u6210OAuth\u8BA4\u8BC1\u5BC6\u94A5</h4><p><img src="'+w+'" alt=""><img src="'+v+'" alt=""><img src="'+f+'" alt=""></p><h4 id="_4-\u7ED1\u5B9Aapi\u548Capp" tabindex="-1"><a class="header-anchor" href="#_4-\u7ED1\u5B9Aapi\u548Capp" aria-hidden="true">#</a> 4.\u7ED1\u5B9AApi\u548CApp</h4><p><img src="'+A+'" alt=""><img src="'+I+`" alt=""></p><h4 id="_5-\u672C\u5730\u521B\u5EFAoauth\u914D\u7F6E\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#_5-\u672C\u5730\u521B\u5EFAoauth\u914D\u7F6E\u6587\u4EF6" aria-hidden="true">#</a> 5.\u672C\u5730\u521B\u5EFAOAuth\u914D\u7F6E\u6587\u4EF6</h4><p>\u624B\u52A8\u521B\u5EFA: core/.restfulapi.authentication.ini \u6587\u4EF6(\u6CE8\u610F\u6587\u4EF6\u540D\u5305\u542B.\u53F7)\uFF0C\u586B\u5165\u5982\u4E0B\u5185\u5BB9</p><div class="language-ini ext-ini"><pre class="language-ini"><code><span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">VIEW_DEMO_APPLICATION</span><span class="token punctuation">]</span></span>
<span class="token comment">;WSO2\u7684OAuth\u8BA4\u8BC1\u63A5\u53E3</span>
<span class="token key attr-name">gatewayAuthUrl</span><span class="token punctuation">=</span><span class="token value attr-value">&quot;<span class="token inner-value">https://172.16.1.94:9443/oauth2</span>&quot;</span>
<span class="token comment">;WSO2\u7684Oauth\u5E10\u53F7\u4FE1\u606F</span>
<span class="token key attr-name">consumerKey</span><span class="token punctuation">=</span><span class="token value attr-value">&quot;<span class="token inner-value">xdv5SZLHEIR4Ux8jc14ugJLWDD4a</span>&quot;</span>
<span class="token key attr-name">consumerSecret</span><span class="token punctuation">=</span><span class="token value attr-value">&quot;<span class="token inner-value">kvsoaXylTKa2X9HvCepn9bfrYyoa</span>&quot;</span>
<span class="token comment">;WSO2\u4E2D\u7684API\u63A5\u53E3\u5730\u5740</span>
<span class="token key attr-name">gatewayRecourceUrl</span><span class="token punctuation">=</span><span class="token value attr-value">&quot;<span class="token inner-value">https://172.16.1.94:8243</span>&quot;</span>
</code></pre></div><h4 id="_6-\u5728\u9879\u76EE\u4E2D\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#_6-\u5728\u9879\u76EE\u4E2D\u4F7F\u7528" aria-hidden="true">#</a> 6.\u5728\u9879\u76EE\u4E2D\u4F7F\u7528</h4><p>core/web/wso2.php</p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token function">define</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;NO_USER_REQUIRED&#39;</span><span class="token punctuation">,</span> <span class="token constant boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;NO_PERMISSION_REQUIRED&#39;</span><span class="token punctuation">,</span> <span class="token constant boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">ini_set</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;display_errors&quot;</span><span class="token punctuation">,</span> <span class="token constant boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">error_reporting</span><span class="token punctuation">(</span><span class="token constant">E_ALL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">ini_set</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;default_socket_timeout&#39;</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">ini_set</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;soap.wsdl_cache_enabled&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;0&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">ini_set</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;soap.wsdl_cache_ttl&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;0&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">require_once</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;<span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$_SERVER</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;DOCUMENT_ROOT&#39;</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>/../sys/libs/init.lib&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">require_once</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;<span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$_SERVER</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;DOCUMENT_ROOT&#39;</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>/../sys/libs/logic/Util/Gateway/ViewGateway.lib&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">VIEW<span class="token punctuation">\\</span>Util<span class="token punctuation">\\</span>Gateway<span class="token punctuation">\\</span>ViewGateway</span><span class="token punctuation">;</span>

<span class="token comment">// .ini\u914D\u7F6E\u6587\u4EF6\u4E2D\u914D\u7F6E\u540D\u79F0</span>
<span class="token keyword">CONST</span> <span class="token constant">CONFIG_NAME</span> <span class="token operator">=</span> <span class="token string single-quoted-string">&#39;VIEW_DEMO_APPLICATION&#39;</span><span class="token punctuation">;</span>
<span class="token comment">// WSO2\u4E2D\u521B\u5EFA\u7684API\u540D\u79F0</span>
<span class="token keyword">CONST</span> <span class="token constant">API_NAME</span> <span class="token operator">=</span> <span class="token string single-quoted-string">&#39;Demo&#39;</span><span class="token punctuation">;</span>
<span class="token comment">// API\u8DEF\u5F84</span>
<span class="token keyword">CONST</span> <span class="token constant">API_URI</span> <span class="token operator">=</span> <span class="token string single-quoted-string">&#39;/demo&#39;</span><span class="token punctuation">;</span>
<span class="token comment">// API\u7248\u672C</span>
<span class="token keyword">CONST</span> <span class="token constant">API_VERSION</span> <span class="token operator">=</span> <span class="token string single-quoted-string">&#39;1.0&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token variable">$viewGateway</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ViewGateway</span><span class="token punctuation">(</span><span class="token constant">CONFIG_NAME</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// \u53D1\u9001\u8BF7\u6C42</span>
    <span class="token variable">$result</span> <span class="token operator">=</span> <span class="token variable">$viewGateway</span><span class="token operator">-&gt;</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token constant">API_NAME</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token constant">null</span><span class="token punctuation">,</span> <span class="token constant">null</span><span class="token punctuation">,</span> <span class="token constant">API_VERSION</span><span class="token punctuation">,</span> <span class="token constant boolean">true</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token constant">API_URI</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token variable">$result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">echo</span> <span class="token string single-quoted-string">&#39;request fail&#39;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> <span class="token variable">$e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token variable">$e</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><h4 id="_7-\u5904\u7406\u63A5\u53E3\u8FD4\u56DE\u7684\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#_7-\u5904\u7406\u63A5\u53E3\u8FD4\u56DE\u7684\u6570\u636E" aria-hidden="true">#</a> 7.\u5904\u7406\u63A5\u53E3\u8FD4\u56DE\u7684\u6570\u636E</h4><p>\u521B\u5EFA\u5904\u7406\u6587\u4EF6: core/sys/libs/logic/Util/Gateway/Handler/DemoGatewayBizHandler.php</p><p><em>\u6587\u4EF6\u547D\u540D\u89C4\u8303\uFF1A&lt;App\u540D\u79F0&gt;GatewayBizHandler.php</em></p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">VIEW<span class="token punctuation">\\</span>Util<span class="token punctuation">\\</span>Gateway<span class="token punctuation">\\</span>Handler</span><span class="token punctuation">;</span>

<span class="token keyword">require_once</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;<span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$_SERVER</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;DOCUMENT_ROOT&#39;</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>/../sys/libs/curl_api_adapter/curl.lib&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">require_once</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;<span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$_SERVER</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;DOCUMENT_ROOT&#39;</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>/../sys/libs/view_exceptions/autoloader.php&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">require_once</span><span class="token punctuation">(</span><span class="token constant">SYSTEM_DIR</span> <span class="token operator">.</span> <span class="token string single-quoted-string">&#39;/libs/logic/external_access_logger/bo/ExternalAccessLogger.lib&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">require_once</span> <span class="token constant">SYSTEM_DIR</span> <span class="token operator">.</span> <span class="token string single-quoted-string">&#39;/libs/jwt_wrapper/autoloader.php&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">VIEW<span class="token punctuation">\\</span>Util<span class="token punctuation">\\</span>Gateway<span class="token punctuation">\\</span>ViewGatewayBizHandlerBaseService</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">DemoGatewayBizHandler</span> <span class="token keyword">extends</span> <span class="token class-name">ViewGatewayBizHandlerBaseService</span>
<span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * Demo
     *
     * <span class="token keyword">@param</span> <span class="token parameter">$applicationName</span>
     * <span class="token keyword">@param</span> <span class="token parameter">$apiName</span>
     * <span class="token keyword">@param</span> <span class="token parameter">$requestMethod</span>
     * <span class="token keyword">@param</span> <span class="token parameter">$requestData</span>
     * <span class="token keyword">@param</span> <span class="token parameter">$version</span>
     * <span class="token keyword">@param</span> <span class="token parameter">$retutrnValue</span>
     * <span class="token keyword">@param</span> <span class="token parameter">$identifier</span>
     *
     * <span class="token keyword">@author</span> wadewang
     * <span class="token keyword">@date</span> 2022-02-25
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">onFinish</span><span class="token punctuation">(</span><span class="token variable">$applicationName</span><span class="token punctuation">,</span> <span class="token variable">$apiName</span><span class="token punctuation">,</span> <span class="token variable">$requestMethod</span><span class="token punctuation">,</span> <span class="token variable">$requestData</span><span class="token punctuation">,</span> <span class="token variable">$version</span><span class="token punctuation">,</span> <span class="token variable">$retutrnValue</span><span class="token punctuation">,</span> <span class="token variable">$identifier</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token variable">$retutrnValue</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword static-context">parent</span><span class="token operator">::</span><span class="token function">onFinish</span><span class="token punctuation">(</span><span class="token variable">$applicationName</span><span class="token punctuation">,</span> <span class="token variable">$apiName</span><span class="token punctuation">,</span> <span class="token variable">$requestMethod</span><span class="token punctuation">,</span> <span class="token variable">$requestData</span><span class="token punctuation">,</span> <span class="token variable">$version</span><span class="token punctuation">,</span> <span class="token variable">$retutrnValue</span><span class="token punctuation">,</span> <span class="token variable">$identifier</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><h4 id="_8-wso2\u7684\u63A5\u53E3\u8C03\u8BD5" tabindex="-1"><a class="header-anchor" href="#_8-wso2\u7684\u63A5\u53E3\u8C03\u8BD5" aria-hidden="true">#</a> 8.WSO2\u7684\u63A5\u53E3\u8C03\u8BD5</h4><p>\u83B7\u53D6AccessToken\u7684\u63A5\u53E3 <img src="`+P+'" alt=""><img src="'+E+'" alt=""></p><p>\u5728View\u4E2D\u6D4B\u8BD5 <img src="'+O+'" alt=""></p><h2 id="\u7EBF\u4E0A\u73AF\u5883\u90E8\u7F72" tabindex="-1"><a class="header-anchor" href="#\u7EBF\u4E0A\u73AF\u5883\u90E8\u7F72" aria-hidden="true">#</a> \u7EBF\u4E0A\u73AF\u5883\u90E8\u7F72</h2><p>\u90E8\u7F72\u6D41\u7A0B\uFF1A</p><p><img src="'+x+`" alt=""></p><p>SVN\u5730\u5740</p><div class="language-text ext-text"><pre class="language-text"><code># \u6D4B\u8BD5\u73AF\u5883
svn://10.251.68.174/view_repos/fos/GatewayDev
# RC\u73AF\u5883
svn://10.251.68.174/view_repos/fos/GatewayStaging
</code></pre></div><h3 id="_1-\u521B\u5EFA\u5E76\u90E8\u7F72app" tabindex="-1"><a class="header-anchor" href="#_1-\u521B\u5EFA\u5E76\u90E8\u7F72app" aria-hidden="true">#</a> 1.\u521B\u5EFA\u5E76\u90E8\u7F72App</h3><h4 id="\u521B\u5EFAapp\u914D\u7F6E\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u521B\u5EFAapp\u914D\u7F6E\u6587\u4EF6" aria-hidden="true">#</a> \u521B\u5EFAApp\u914D\u7F6E\u6587\u4EF6</h4><p>\u5728 CommonAssets/ApplicationSetting/EA \u76EE\u5F55\u4E0B\u521B\u5EFAApp\u914D\u7F6E\u6587\u4EF6</p><p>\u547D\u540D\u89C4\u8303\uFF1AVIEW_&lt;\u56FD\u5BB6\u540D\u79F0&gt;_&lt;App\u540D\u79F0&gt;_APPLICATION.xml</p><p>\u793A\u4F8B\uFF1AVIEW_EA_DEMO_APPLICATION.xml</p><div class="language-xml ext-xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>applicationConfig</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>VIEW_EA_DEMO_APPLICATION<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>throttlingPolicy</span><span class="token punctuation">&gt;</span></span>Unlimited<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>throttlingPolicy</span><span class="token punctuation">&gt;</span></span>  
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>For VIEW AP WSO2 API APPLICATION<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tokenType</span><span class="token punctuation">&gt;</span></span>Client_Credentials<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tokenType</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>notificationUser</span><span class="token punctuation">&gt;</span></span>samwang@rayootech.com,boydzhang@rayootech.com,janms@rayootech.com<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>notificationUser</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>applicationConfig</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="\u4F7F\u7528jenkins\u90E8\u7F72app" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528jenkins\u90E8\u7F72app" aria-hidden="true">#</a> \u4F7F\u7528Jenkins\u90E8\u7F72App</h4><p><em>\u9700\u8981\u8FD0\u7EF4\u5F00\u542F\u5BF9\u5E94\u5E10\u53F7\u7684\u90E8\u7F72\u6743\u9650</em></p>`,31),On=s("Dev\u73AF\u5883: "),xn={href:"https://jenkins.tkeasia.com/view/WSO2_DEPLOY/job/WSO2%20Deploy%20Dev/",target:"_blank",rel:"noopener noreferrer"},Sn=s("https://jenkins.tkeasia.com/view/WSO2_DEPLOY/job/WSO2%20Deploy%20Dev/"),Dn=s("RC\u73AF\u5883: "),Tn={href:"https://jenkins.tkeasia.com/view/WSO2_DEPLOY/job/WSO2%20Deploy%20Staging/",target:"_blank",rel:"noopener noreferrer"},Nn=s("https://jenkins.tkeasia.com/view/WSO2_DEPLOY/job/WSO2%20Deploy%20Staging/"),Vn=p('<p>\u90E8\u7F72\u9875\u9762</p><p><img src="'+S+'" alt=""></p><p>\u90E8\u7F72\u6210\u6210\u529F\u540E\uFF0Capplication\u7684\u8D26\u53F7\u4FE1\u606F\u4F1A\u53D1\u9001\u5230\u4E0A\u9762\u914D\u7F6E\u6587\u4EF6\u4E2D\u7684\u7528\u6237\u90AE\u7BB1\u91CC\u3002</p><p><img src="'+D+`" alt=""></p><p>\u9700\u8981\u8BA9\u8FD0\u7EF4\u5728\u5BF9\u5E94\u7684\u73AF\u5883\u4E2D\u6DFB\u52A0App\u7684\u914D\u7F6E\u4FE1\u606F\uFF08.restfulapi.authentication.ini\u6587\u4EF6\uFF09 \u683C\u5F0F\uFF1A</p><div class="language-ini ext-ini"><pre class="language-ini"><code><span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">VIEW_EA_DEMO_APPLICATION</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">name</span><span class="token punctuation">=</span><span class="token value attr-value">&quot;<span class="token inner-value">VIEW_EA_DEMO_APPLICATION</span>&quot;</span>
<span class="token key attr-name">consumerKey</span><span class="token punctuation">=</span><span class="token value attr-value">&quot;<span class="token inner-value">&lt;Key&gt;</span>&quot;</span>
<span class="token key attr-name">consumerSecret</span><span class="token punctuation">=</span><span class="token value attr-value">&quot;<span class="token inner-value">&lt;Secret&gt;</span>&quot;</span>
</code></pre></div><h3 id="_2-\u521B\u5EFA\u5E76\u90E8\u7F72api" tabindex="-1"><a class="header-anchor" href="#_2-\u521B\u5EFA\u5E76\u90E8\u7F72api" aria-hidden="true">#</a> 2.\u521B\u5EFA\u5E76\u90E8\u7F72Api</h3><p>\u5728\u6839\u76EE\u5F55\u521B\u5EFA\u5982\u4E0B\u4E24\u4E2A\u6587\u4EF6</p><p>Demo/API_Managment/V1/apiConfig.xml Demo/API_Managment/V1/swagger.json</p><p><img src="`+T+`" alt=""></p><p>apiConfig.xml \u6587\u4EF6\u793A\u4F8B</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>apiConfig</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- The name of the API (needed)     --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>Demo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- Version of the API (needed)    --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- The request path of the API (needed)  --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>context</span><span class="token punctuation">&gt;</span></span>/suburi<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>context</span><span class="token punctuation">&gt;</span></span>
	<span class="token comment">&lt;!-- The rateLimit info of the API --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rateLimit</span><span class="token punctuation">&gt;</span></span>
		<span class="token comment">&lt;!-- The speed limit of the API. Available setting: Unlimited/10000/20000/50000.Default is Unlimited --&gt;</span>
		<span class="token comment">&lt;!-- &lt;policies&gt;Unlimited&lt;/policies&gt; --&gt;</span>
		<span class="token comment">&lt;!-- The TPS(Maximum back-end transactions per second in integers) of the API. default is Unlimited--&gt;</span>
		<span class="token comment">&lt;!--&lt;TPS&gt;Unlimited&lt;/TPS&gt;       --&gt;</span>
		<span class="token comment">&lt;!-- The subscription policies of the API. Available setting: Unlimited/Gold(5000)/Silver(2000)/Brozen(1000).Default is Unlimited --&gt;</span>
		<span class="token comment">&lt;!--                           --&gt;</span>
		<span class="token comment">&lt;!--&lt;subscriptionPolicies&gt;Unlimited&lt;/subscriptionPolicies&gt;--&gt;</span>
		<span class="token comment">&lt;!-- If the endpoint is VIEW, if Y, will force set rate limit to 50.Available Value:Y/N.Default is Y --&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>isViewEndPoint</span><span class="token punctuation">&gt;</span></span>Y<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>isViewEndPoint</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rateLimit</span><span class="token punctuation">&gt;</span></span>
	<span class="token comment">&lt;!-- The endpoint info of the API--&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>endpointInfo</span><span class="token punctuation">&gt;</span></span>
		<span class="token comment">&lt;!-- The endpoint url info of the API,default is the EI path of the value set in context.  --&gt;</span>
		<span class="token comment">&lt;!-- Or you can set as:{EI_URL}/Maintenancecntry  to connect to other path of the EI,or set the full path of other endpoint,like:&lt;url&gt;https://www.baidu.com/Maintenancecntry&lt;/url&gt; --&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>\u7B2C\u4E09\u65B9\u63A5\u53E3\u5730\u5740<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span>
		<span class="token comment">&lt;!-- The endpoint Auth type,None:means no Auth, Basic:means use basic Auth, Oauth:means Oauth --&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>authInfo</span><span class="token punctuation">&gt;</span></span>Basic<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>authInfo</span><span class="token punctuation">&gt;</span></span>
		<span class="token comment">&lt;!-- The endpoint Auth info,if set &quot;Basic&quot; in authInfo will use as basic Auth username &amp; password, &quot;Oauth&quot; will use as Oauth client-id&amp;client-secret  --&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>authName</span><span class="token punctuation">&gt;</span></span>demo.auth.basic.username<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>authName</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>authPwd</span><span class="token punctuation">&gt;</span></span>demo.auth.basic.password<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>authPwd</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>endpointInfo</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- The bind application of this API.One API could bind to multiple application.Value get from CommonAssets\\ApplicationSetting,File name in each BU folder. If bind to multiple application,add this section.--&gt;</span> 
    <span class="token comment">&lt;!-- Rules:  --&gt;</span> 
    <span class="token comment">&lt;!-- VIEW-&gt;WSO2/WSO2-&gt;VIEW : 1:All API of each country under same bu share same application.                                                               --&gt;</span> 
    <span class="token comment">&lt;!-- ExternalSystem-&gt;WSO2 :  2:Different API of Same System under same country share same application.                                                     --&gt;</span> 
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>applicationInfo</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bindApplication</span><span class="token punctuation">&gt;</span></span>VIEW_EA_DEMO_APPLICATION<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bindApplication</span><span class="token punctuation">&gt;</span></span>
		<span class="token comment">&lt;!-- The application subscription policies of the API. Available setting: Unlimited/Gold(5000)/Silver(2000)/Brozen(1000).Default is Unlimited --&gt;</span>
		<span class="token comment">&lt;!--&lt;applicationPolicies&gt;10&lt;/applicationPolicies&gt;--&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>applicationInfo</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- Decide which BU this API will apply to. Could apply to multiple BU,use &quot;,&quot; as separator.Available value:AP/NA/EA/SA   --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>applyBU</span><span class="token punctuation">&gt;</span></span>EA<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>applyBU</span><span class="token punctuation">&gt;</span></span>
	<span class="token comment">&lt;!-- The realted endpoint config file folder of this api,under path &quot;CommonAssets\\Enterprise_integrator\\{BU}\\EndPoint&quot;     --&gt;</span> 
    <span class="token comment">&lt;!-- {BU} related to config value of line64 &quot;applyBU&quot;,multiple use &quot;,&quot; as separator --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>endPointConfig</span><span class="token punctuation">&gt;</span></span>Oz<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>endPointConfig</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>apiConfig</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br></div></div><p>swagger.json \u6587\u4EF6\u793A\u4F8B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token string-property property">&quot;swagger&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.0&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;info&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;The Api doc for the Demo,For outside system to post paitent info to FR.&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Demo&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;termsOfService&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://swagger.io/terms/&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;contact&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;wadewang@rayootech.com&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Apache 2.0&quot;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://www.apache.org/licenses/LICENSE-2.0.html&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;host&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Demo&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;basePath&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/ServiceNow&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;tags&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Hospital&quot;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Everything about the hospital info in this Demo&quot;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;externalDocs&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Find out more&quot;</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://swagger.io&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;schemes&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;https&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;paths&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;/*&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&quot;post&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&quot;tags&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;Hospital&quot;</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;summary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Send paitent info to us.&quot;</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;send the paient info to us,detail as below&quot;</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;operationId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sendPaitent&quot;</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;produces&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;application/json&quot;</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;parameters&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token string-property property">&quot;in&quot;</span><span class="token operator">:</span> <span class="token string">&quot;body&quot;</span><span class="token punctuation">,</span>
            <span class="token string-property property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;body&quot;</span><span class="token punctuation">,</span>
            <span class="token string-property property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Patient info to add&quot;</span><span class="token punctuation">,</span>
            <span class="token string-property property">&quot;required&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token string-property property">&quot;schema&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token string-property property">&quot;$ref&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#/definitions/Patient&quot;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;responses&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token string-property property">&quot;200&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string-property property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;successful operation&quot;</span><span class="token punctuation">,</span>
            <span class="token string-property property">&quot;schema&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token string-property property">&quot;$ref&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#/definitions/ApiResponse&quot;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string-property property">&quot;400&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string-property property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Hospital dose not match&quot;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string-property property">&quot;500&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string-property property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;System Error&quot;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;security&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token string-property property">&quot;api_key&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;definitions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;Patient&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;object&quot;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;properties&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;ApiResponse&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;object&quot;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;properties&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token string-property property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;integer&quot;</span><span class="token punctuation">,</span>
          <span class="token string-property property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token string">&quot;int32&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token string-property property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;externalDocs&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Find out more about Swagger&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://swagger.io&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;securityDefinitions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;ServiceNow&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;oauth2&quot;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;authorizationUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://tkelevatordev01.service-now.com/api/now/table/sn_hr_core_obp_repair&quot;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;flow&quot;</span><span class="token operator">:</span> <span class="token string">&quot;implicit&quot;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;scopes&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&quot;add:Paitent&quot;</span><span class="token operator">:</span> <span class="token string">&quot;send the patient info&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;api_key&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;apiKey&quot;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;api_key&quot;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;in&quot;</span><span class="token operator">:</span> <span class="token string">&quot;header&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br></div></div><p>\u5728\u4F7F\u7528jenkins\u90E8\u7F72\u8FD9\u4E24\u4E2A\u6587\u4EF6\u4E4B\u524D\uFF0C\u5FC5\u987B\u5148\u8BA9\u8FD0\u7EF4\u914D\u7F6E\u7B2C\u4E09\u65B9API\u7684\u5E10\u53F7\u4FE1\u606F \uFF08\u4ECETke Leader\u5904\u83B7\u53D6\uFF09<br> \u914D\u7F6E\u683C\u5F0F\uFF1A<br> demo.auth.basic.username &lt;\u5E10\u53F7&gt; <br> demo.auth.basic.password &lt;\u5BC6\u7801&gt;</p><p><img src="`+N+'" alt=""></p><h2 id="\u7EBF\u4E0A\u73AF\u5883\u6D4B\u8BD5" tabindex="-1"><a class="header-anchor" href="#\u7EBF\u4E0A\u73AF\u5883\u6D4B\u8BD5" aria-hidden="true">#</a> \u7EBF\u4E0A\u73AF\u5883\u6D4B\u8BD5</h2><h3 id="dev\u73AF\u5883" tabindex="-1"><a class="header-anchor" href="#dev\u73AF\u5883" aria-hidden="true">#</a> Dev\u73AF\u5883</h3>',18),Cn=s("\u83B7\u53D6AccessToken: "),Un={href:"https://apieadev.tkeview.com/token",target:"_blank",rel:"noopener noreferrer"},Wn=s("https://apieadev.tkeview.com/token"),$n=s(),Rn=n("br",null,null,-1),Mn=s(" API\u63A5\u53E3: "),Ln={href:"https://apieadev.tkeview.com",target:"_blank",rel:"noopener noreferrer"},Bn=s("https://apieadev.tkeview.com"),jn=n("p",null,[n("img",{src:V,alt:""})],-1);function Gn(Fn,Hn){const a=e("ExternalLinkIcon");return o(),c(l,null,[U,n("p",null,[W,n("a",$,[R,t(a)])]),M,n("p",null,[L,n("a",B,[j,t(a)]),G,F,H,n("a",Y,[z,t(a)]),K]),J,n("p",null,[Q,n("a",X,[Z,t(a)]),nn,sn,an,n("a",tn,[pn,t(a)]),en,on,cn,n("a",ln,[rn,t(a)])]),un,n("p",null,[kn,n("a",bn,[mn,t(a)])]),gn,n("p",null,[dn,n("a",hn,[_n,t(a)])]),qn,n("p",null,[yn,n("a",wn,[vn,t(a)])]),fn,n("p",null,[An,n("a",In,[Pn,t(a)])]),En,n("p",null,[On,n("a",xn,[Sn,t(a)])]),n("p",null,[Dn,n("a",Tn,[Nn,t(a)])]),Vn,n("p",null,[Cn,n("a",Un,[Wn,t(a)]),$n,Rn,Mn,n("a",Ln,[Bn,t(a)])]),jn],64)}var Kn=r(C,[["render",Gn]]);export{Kn as default};
